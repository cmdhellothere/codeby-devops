---
# Ansible inventory containing variable values from Terraform.
# Generated by Terraform.
nginx:
  hosts:
    node01_nginx:
      ansible_host: 130.193.49.218

master:
  vars:
    mysql_replication_role: "master"
  hosts:
    db01:
      ansible_host: 10.129.0.3

slave:
  vars:
    mysql_replication_role: "slave"
  hosts:
    db02:
      ansible_host: 10.129.0.35

dbservers:
  children:
    master:
    slave:
  vars:
    database_name: wordpress
    database_user: wordpress
    database_password: wordpress
    mysql_replication_user: replicausr
    mysql_replication_user_password: REplicauserpass123
    mysql_replication_master: db01

behind_proxy:
  vars:
    ansible_ssh_common_args: '-C -o ControlMaster=auto -o ControlPersist=60s -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o ProxyCommand="ssh -W %h:%p -q ubuntu@{{ domain_name }}"'
  children:
    dbservers:
    www:
    cicd:
    prometheus:

www:
  hosts:
    app:
      ansible_host: 10.129.0.29

cicd:
  hosts:
    gitlab:
      ansible_host: 10.129.0.15
      environment:
        GITLAB_OMNIBUS_CONFIG: "external_url 'http://gitlab.{domain_name}/'; gitlab_rails['initial_root_password'] = 'gitlabroopass0rd'"
        EXTERNAL_URL: "{domain_name}"
      vars:
        gitlab_root_password: "gitlabroopass0rd"
        gitlab_runner_token: "tokentokentoken"
    runner:
      ansible_host: 10.129.0.28
      vars:
        gitlab_runner_token: "tokentokentoken"

prometheus:
  hosts:
    monitoring:
      ansible_host: 10.129.0.4

node_exporter_nodes:
  hosts:
    node01_nginx:
    db01:
    db02:
    app:
#    gitlab:
    runner:
    monitoring:
